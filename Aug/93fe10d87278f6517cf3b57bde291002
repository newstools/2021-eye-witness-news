KANDAHAR - Afghan forces battled to stop a first major city from falling to the Taliban on Monday as the United States and Britain accused the insurgents of "massacring civilians" in a town they recently captured near the Pakistan border. Taliban fighters assaulted at least three provincial capitals overnight - Lashkar Gah, Kandahar and Herat - after a weekend of heavy fighting that saw thousands of civilians flee the advancing militants. Fighting raged in Helmand's provincial capital Lashkar Gah, where the Taliban launched coordinated attacks on the city centre and its prison - just hours after the government announced the deployment of hundreds of commandos to the area. The war has intensified since early May, with the insurgents capitalising on the final stages of the withdrawal of US-led foreign forces after almost 20 years. As the country's security forces struggled to keep the Taliban at bay, President Ashraf Ghani blamed Washington for the deteriorating security. "The reason for our current situation is that the decision was taken abruptly," Ghani told parliament, referring to the withdrawal of foreign forces. Ghani said he had warned Washington that the withdrawal would have "consequences". His comments came as the United States said it will take in thousands more Afghan refugees as violence surged across the country. "In light of increased levels of Taliban violence, the US government is working to provide certain Afghans, including those who worked with the United States, the opportunity for refugee resettlement," the State Department said in a statement. Washington has already started evacuating thousands of interpreters and their families who worked with the military and embassy over the past two decades. LIFE IS AT A STANDSTILLThe US and Britain on Monday accused the Taliban of atrocities that may amount to "war crimes" in the town of Spin Boldak, which the insurgents captured last month along the border with Pakistan. "The Taliban massacred dozens of civilians in revenge killings. These murders could constitute war crimes," the embassies of Washington and London said in separate tweets. "The Taliban's leadership must be held responsible for the crimes of their fighters. If you cannot control your fighters now, you have no business in governance later." The diplomatic lashing comes after Afghanistan's Independent Human Rights Commission said the insurgents had indulged in revenge killings in Spin Boldak. "After taking over Spin Boldak district, the Taliban chased and identified past and present government officials and killed these people who had no combat role in the conflict," the group said, adding at least 40 people had been killed by the Taliban. Fighting meanwhile continued in the southern Afghan city of Lashkar Gah overnight as Afghan forces beat back a fresh assault from the Taliban. "Afghan forces on the ground and by air strikes repelled the attack," the military in Helmand said. Resident Hawa Malalai warned of a growing crisis in the city: "There is fighting, power cuts, sick people in hospital, the telecommunication networks are down. There are no medicines and pharmacies are closed." Medical charity Doctors Without Border said casualties were mounting in Lashkar Gah. "There has been relentless gunfire, air strikes and mortars in densely populated areas. Houses are being bombed, and many people are suffering severe injuries," said Sarah Leahy, the aid group's coordinator for Helmand, in a statement. Helmand for years was the centrepiece of the US and British military campaign in Afghanistan - only for it to slip deeper into instability. The vast poppy fields in the province provide the lion's share of the opium for the international heroin trade - making it a lucrative source of tax and cash for the Taliban. The loss of Lashkar Gah would be a massive strategic and psychological blow for the government, which has pledged to defend provincial capitals at all costs after losing much of the rural countryside to the Taliban over the summer. STRATEGIC BLUNDERSFighting also surged in some districts of Kandahar province, the former bastion of the insurgents, and on the outskirts of its capital. In the west, hundreds of commandos were also defending Herat after days of fierce fighting. Kabul has repeatedly dismissed the insurgents' steady gains over the summer as lacking strategic value, but has largely failed to reverse their momentum. The capture of any major city by the Taliban would take their current offensive to another level and fuel concerns about the ability of the Afghan military. "If Afghan cities fall ... the US decision to withdraw from Afghanistan will be remembered as one of the most notable strategic blunders in American foreign policy," Australia-based Afghanistan expert Nishank Motwani told AFP. The Taliban have seized Afghan cities in the past but have retained them only briefly. Download the Eyewitness News app to your iOS  or Android  device.